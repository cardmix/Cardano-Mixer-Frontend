!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TrezorConnect=t():e.TrezorConnect=t()}(self,(function(){return(()=>{var e={"./node_modules/@babel/runtime/regenerator/index.js":(e,t,n)=>{e.exports=n("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/es6-promise/dist/es6-promise.js":function(e,t,n){var r=n("./node_modules/process/browser.js");
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,s=void 0,a=void 0,c=function(e,t){_[i]=e,_[i+1]=t,2===(i+=2)&&(a?a(E):x())};function u(e){a=e}function l(e){c=e}var p="undefined"!=typeof window?window:void 0,f=p||{},d=f.MutationObserver||f.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),m="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function y(){return function(){return r.nextTick(E)}}function v(){return void 0!==s?function(){s(E)}:w()}function b(){var e=0,t=new d(E),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function g(){var e=new MessageChannel;return e.port1.onmessage=E,function(){return e.port2.postMessage(0)}}function w(){var e=setTimeout;return function(){return e(E,1)}}var _=new Array(1e3);function E(){for(var e=0;e<i;e+=2)(0,_[e])(_[e+1]),_[e]=void 0,_[e+1]=void 0;i=0}function T(){try{var e=Function("return this")().require("vertx");return s=e.runOnLoop||e.runOnContext,v()}catch(e){return w()}}var x=void 0;function S(e,t){var n=this,r=new this.constructor(L);void 0===r[O]&&J(r);var o=n._state;if(o){var i=arguments[o-1];c((function(){return H(o,r,i,n._result)}))}else D(n,r,e,t);return r}function B(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(L);return N(n,e),n}x=h?y():d?b():m?g():void 0===p?T():w();var O=Math.random().toString(36).substring(2);function L(){}var U=void 0,A=1,k=2;function F(){return new TypeError("You cannot resolve a promise with itself")}function C(){return new TypeError("A promises callback cannot return that same promise.")}function R(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function I(e,t,n){c((function(e){var r=!1,o=R(n,t,(function(n){r||(r=!0,t!==n?N(e,n):z(e,n))}),(function(t){r||(r=!0,M(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,M(e,o))}),e)}function P(e,t){t._state===A?z(e,t._result):t._state===k?M(e,t._result):D(t,void 0,(function(t){return N(e,t)}),(function(t){return M(e,t)}))}function j(e,n,r){n.constructor===e.constructor&&r===S&&n.constructor.resolve===B?P(e,n):void 0===r?z(e,n):t(r)?I(e,n,r):z(e,n)}function N(t,n){if(t===n)M(t,F());else if(e(n)){var r=void 0;try{r=n.then}catch(e){return void M(t,e)}j(t,n,r)}else z(t,n)}function Q(e){e._onerror&&e._onerror(e._result),G(e)}function z(e,t){e._state===U&&(e._result=t,e._state=A,0!==e._subscribers.length&&c(G,e))}function M(e,t){e._state===U&&(e._state=k,e._result=t,c(Q,e))}function D(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+A]=n,o[i+k]=r,0===i&&e._state&&c(G,e)}function G(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?H(n,r,o,i):o(i);e._subscribers.length=0}}function H(e,n,r,o){var i=t(r),s=void 0,a=void 0,c=!0;if(i){try{s=r(o)}catch(e){c=!1,a=e}if(n===s)return void M(n,C())}else s=o;n._state!==U||(i&&c?N(n,s):!1===c?M(n,a):e===A?z(n,s):e===k&&M(n,s))}function W(e,t){try{t((function(t){N(e,t)}),(function(t){M(e,t)}))}catch(t){M(e,t)}}var V=0;function q(){return V++}function J(e){e[O]=V++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Y(){return new Error("Array Methods must be provided an Array")}var K=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(L),this.promise[O]||J(this.promise),o(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?z(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&z(this.promise,this._result))):M(this.promise,Y())}return e.prototype._enumerate=function(e){for(var t=0;this._state===U&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===B){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(e){s=!0,i=e}if(o===S&&e._state!==U)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===ne){var a=new n(L);s?M(a,i):j(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===U&&(this._remaining--,e===k?M(r,n):this._result[t]=n),0===this._remaining&&z(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,(function(e){return n._settledAt(A,t,e)}),(function(e){return n._settledAt(k,t,e)}))},e}();function Z(e){return new K(this,e).promise}function X(e){var t=this;return o(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function $(e){var t=new this(L);return M(t,e),t}function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ne=function(){function e(t){this[O]=q(),this._result=this._state=void 0,this._subscribers=[],L!==t&&("function"!=typeof t&&ee(),this instanceof e?W(this,t):te())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();function re(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=ne}return ne.prototype.then=S,ne.all=Z,ne.race=X,ne.resolve=B,ne.reject=$,ne._setScheduler=u,ne._setAsap=l,ne._asap=c,ne.polyfill=re,ne.Promise=ne,ne}()},"./node_modules/events/events.js":(e,t,n)=>{"use strict";var r,o=n("./node_modules/es6-promise/dist/es6-promise.js").Promise,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new o((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}b(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&b(e,"error",t,n)}(e,o,{once:!0})}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function p(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,s,a;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=p(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function m(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return p(this)},c.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var u=c.length,l=v(c,u);for(n=0;n<u;++n)s(l[n],this,t)}return!0},c.prototype.addListener=function(e,t){return f(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return f(this,e,t,!0)},c.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},c.prototype.removeListener=function(e,t){var n,r,o,i,s;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},c.prototype.listeners=function(e){return m(this,e,!0)},c.prototype.rawListeners=function(e){return m(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},c.prototype.listenerCount=y,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"./node_modules/process/browser.js":e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],u=!1,l=-1;function p(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/regenerator-runtime/runtime.js":(e,t,n)=>{var r=n("./node_modules/es6-promise/dist/es6-promise.js").Promise,o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new U(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=B(s,n);if(a){if(a===y)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=p(e,t,n);if("normal"===c.type){if(r=n.done?m:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,s,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(A([])));E&&E!==n&&o.call(E,s)&&(w=E);var T=g.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(r,i,s,a){var c=p(e[r],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&o.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var r;this._invoke=function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}}function B(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,B(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=p(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:k}}function k(){return{value:t,done:!0}}return b.prototype=g,u(T,"constructor",g),u(g,"constructor",b),b.displayName=u(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,o,i,s){void 0===s&&(s=r);var a=new S(l(t,n,o,i),s);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(T),u(T,c,"Generator"),u(T,s,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),u=o.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function o(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function a(e,n,r){return a=s()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i},a.apply(null,arguments)}function c(e){var n="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,o)}function o(){return a(e,arguments,i(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t(o,e)},c(e)}n.d(r,{default:()=>qe});var u={Init_NotInitialized:"TrezorConnect not yet initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/connect/blob/develop/docs/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Transport_Missing:"Transport is missing",Transport_InvalidProtobuf:"",Method_InvalidPackage:"This version of trezor-connect is not suitable to work without browser. Use trezor-connect@extended package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_FirmwareUpdate_DownloadFailed:"Failed to download firmware binary",Method_CustomMessage_Callback:'Parameter "callback" is not a function',Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress"},l=function(e){function t(t,n){var r;return(r=e.call(this,n)||this).code=t,r.message=n,r}return o(t,e),t}(c(Error)),p=function(e,t){return new l(e,t||u[e])},f="iframe-loaded",d=(Object.freeze({bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezors",binance:"Binance"}),"popup-loaded"),h="popup-init",m="popup-error",y="popup-closed",v="ui-login_challenge_response",b="ui-address_validation",g=(Object.freeze({mainnet:764824073,testnet:42}),Object.freeze({mainnet:1,testnet:0}),Object.freeze({Base:0,Pointer:4,Enterprise:6,Byron:8,Reward:14}),Object.freeze({StakeRegistration:0,StakeDeregistration:1,StakeDelegation:2,StakePoolRegistration:3}),Object.freeze({SingleHostIp:0,SingleHostName:1,MultipleHostName:2}),"UI_EVENT"),w=n("./node_modules/es6-promise/dist/es6-promise.js").Promise;function _(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):w.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new w((function(r,o){var i=e.apply(t,n);function s(e){_(i,r,o,s,a,"next",e)}function a(e){_(i,r,o,s,a,"throw",e)}s(void 0)}))}}var T=n("./node_modules/@babel/runtime/regenerator/index.js"),x=n.n(T),S=n("./node_modules/events/events.js"),B=n.n(S);function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L="TrezorConnectInteractionLayer",U=function(e,t){if(!document.getElementById(L)){var n=document.createElement("div");n.id=L,n.className="trezorconnect-container",n.innerHTML='\n    <div class="trezorconnect-container" id="TrezorConnectInteractionLayer">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to “Continue” to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n',document.body&&document.body.appendChild(n),n.getElementsByClassName("trezorconnect-open")[0].onclick=function(){e(),document.body&&document.body.removeChild(n)},n.getElementsByClassName("trezorconnect-close")[0].onclick=function(){t(),document.body&&document.body.removeChild(n)}}},A=n("./node_modules/es6-promise/dist/es6-promise.js").Promise,k="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==k&&k,F="URLSearchParams"in k,C="Symbol"in k&&"iterator"in Symbol,R="FileReader"in k&&"Blob"in k&&function(){try{return new Blob,!0}catch(e){return!1}}(),I="FormData"in k,P="ArrayBuffer"in k;if(P)var j=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],N=ArrayBuffer.isView||function(e){return e&&j.indexOf(Object.prototype.toString.call(e))>-1};function Q(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function z(e){return"string"!=typeof e&&(e=String(e)),e}function M(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return C&&(t[Symbol.iterator]=function(){return t}),t}function D(e){this.map={},e instanceof D?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function G(e){if(e.bodyUsed)return A.reject(new TypeError("Already read"));e.bodyUsed=!0}function H(e){return new A((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function W(e){var t=new FileReader,n=H(t);return t.readAsArrayBuffer(e),n}function V(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function q(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:R&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:I&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:F&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():P&&R&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=V(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):P&&(ArrayBuffer.prototype.isPrototypeOf(e)||N(e))?this._bodyArrayBuffer=V(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):F&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},R&&(this.blob=function(){var e=G(this);if(e)return e;if(this._bodyBlob)return A.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return A.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return A.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=G(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?A.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):A.resolve(this._bodyArrayBuffer))}return this.blob().then(W)}),this.text=function(){var e,t,n,r=G(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=H(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return A.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return A.resolve(this._bodyText)},I&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}D.prototype.append=function(e,t){e=Q(e),t=z(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},D.prototype.delete=function(e){delete this.map[Q(e)]},D.prototype.get=function(e){return e=Q(e),this.has(e)?this.map[e]:null},D.prototype.has=function(e){return this.map.hasOwnProperty(Q(e))},D.prototype.set=function(e,t){this.map[Q(e)]=z(t)},D.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},D.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),M(e)},D.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),M(e)},D.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),M(e)},C&&(D.prototype[Symbol.iterator]=D.prototype.entries);var J=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Y(e,t){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof Y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new D(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new D(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),J.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function K(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function Z(e,t){if(!(this instanceof Z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new D(t.headers),this.url=t.url||"",this._initBody(e)}Y.prototype.clone=function(){return new Y(this,{body:this._bodyInit})},q.call(Y.prototype),q.call(Z.prototype),Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new D(this.headers),url:this.url})},Z.error=function(){var e=new Z(null,{status:0,statusText:""});return e.type="error",e};var X=[301,302,303,307,308];Z.redirect=function(e,t){if(-1===X.indexOf(t))throw new RangeError("Invalid status code");return new Z(null,{status:t,headers:{location:e}})};var $=k.DOMException;try{new $}catch(e){$=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},$.prototype=Object.create(Error.prototype),$.prototype.constructor=$}function ee(e,t){return new A((function(n,r){var o=new Y(e,t);if(o.signal&&o.signal.aborted)return r(new $("Aborted","AbortError"));var i=new XMLHttpRequest;function s(){i.abort()}i.onload=function(){var e,t,r={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new D,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout((function(){n(new Z(o,r))}),0)},i.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){r(new $("Aborted","AbortError"))}),0)},i.open(o.method,function(e){try{return""===e&&k.location.href?k.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(R?i.responseType="blob":P&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof D?o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){i.setRequestHeader(e,z(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",s),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",s)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}ee.polyfill=!0,k.fetch||(k.fetch=ee,k.Headers=D,k.Request=Y,k.Response=Z);var te=function(e){if(0===e.indexOf("file://"))return"file://";var t=e.match(/^.+\:\/\/[^\/]+/);return Array.isArray(t)&&t.length>0?t[0]:"unknown"},ne=n("./node_modules/es6-promise/dist/es6-promise.js").Promise;function re(e,t){var n,r=function(e){},o=function(e){},i=new ne(function(){var t=E(x().mark((function t(i,s){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i,o=s,"function"!=typeof e){t.next=11;break}return t.prev=3,t.next=6,e();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),s(t.t0);case 11:"string"==typeof e&&(n=e);case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e,n){return t.apply(this,arguments)}}());return{id:n,device:t,resolve:r,reject:o,promise:i}}var oe=function(t){function n(n){var r;return e(O(r=t.call(this)||this),"requestTimeout",0),e(O(r),"closeInterval",0),e(O(r),"extensionTabId",0),r.settings=n,r.origin=te(n.popupSrc),r.handleMessage=r.handleMessage.bind(O(r)),r.iframeHandshake=re(f),r.settings.env,window.addEventListener("message",r.handleMessage,!1),r}o(n,t);var r=n.prototype;return r.request=function(e){var t=this;if(void 0===e&&(e=!1),this.locked)this._window&&(this.settings.env,this._window.focus());else{var n=this.open.bind(this);if(this.locked=!0,this.settings.supportedBrowser){var r=e||(this.settings.env,0)?1:850;this.requestTimeout=window.setTimeout((function(){t.requestTimeout=0,n(e)}),r)}else n()}},r.cancel=function(){this.close()},r.unlock=function(){this.locked=!1},r.open=function(e){var t=this,n=this.settings.popupSrc;this.settings.supportedBrowser?(this.popupPromise=re(d),this.openWrapper(e?n+"#loading":n),this.closeInterval=window.setInterval((function(){t._window&&(t.settings.env,t._window.closed&&(t.close(),t.emit(y)))}),500),this.openTimeout=window.setTimeout((function(){t.close(),U(t.open.bind(t),(function(){t.emit(y)}))}),3e3)):this.openWrapper(n+"#unsupported")},r.openWrapper=function(e){if(this.settings.env,"electron"===this.settings.env)this._window=window.open(e,"modal");else{var t=document.getElementById("trezorPopupNami");t.src=e,this._window=t.contentWindow}},r.handleExtensionConnect=function(e){"trezor-connect"===e.name&&(!this._window||this._window&&this._window.id!==e.sender.tab.id?e.disconnect():(window.clearTimeout(this.openTimeout),this.extensionPort=e,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))},r.handleExtensionMessage=function(e){var t=this;if(this.extensionPort){var n=this.extensionPort,r=e.data;if(r&&"object"==typeof r)if(r.type===m){var o=r.payload&&"string"==typeof r.payload.error?r.payload.error:null;this.emit(y,o?"Popup error: "+o:null),this.close()}else r.type===d?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((function(e){n.postMessage({type:h,payload:{settings:t.settings,useBroadcastChannel:e}})}))):"open-usb-permissions"===r.type?chrome.tabs.query({currentWindow:!0,active:!0},(function(e){chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},(function(e){}))})):"window.close"===r.type&&(this.emit(y),this.close())}},r.handleMessage=function(e){var t=this,n=e.data;if(te(e.origin)===this.origin&&n&&"object"==typeof n)if(n.type===f){var r=!(!n.payload||"boolean"!=typeof n.payload.useBroadcastChannel)&&n.payload.useBroadcastChannel;this.iframeHandshake.resolve(r)}else if("popup-bootstrap"===n.type)window.clearTimeout(this.openTimeout);else if(n.type===m&&this._window){var o=n.payload&&"string"==typeof n.payload.error?n.payload.error:null;this.emit(y,o?"Popup error: "+o:null),this.close()}else n.type===d?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((function(e){t._window.postMessage({type:h,payload:{settings:t.settings,useBroadcastChannel:e}},t.origin)}))):"ui-cancel-popup-request"!==n.type&&"ui-close_window"!==n.type||this.close()},r.close=function(){(this.locked=!1,this.popupPromise=void 0,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(window.clearTimeout(this.openTimeout),this.openTimeout=0),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=null),this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0),this._window)&&(this.settings.env,this._window.close(),this._window=null)},r.postMessage=function(){var e=E(x().mark((function e(t){var n=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._window||"ui-request_window"===t.type||!this.openTimeout){e.next=4;break}return this.close(),U(this.open.bind(this),(function(){n.emit(y)})),e.abrupt("return");case 4:if(!this.popupPromise){e.next=7;break}return e.next=7,this.popupPromise.promise;case 7:this._window&&this._window.postMessage(t,this.origin);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n}(B());const ie='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */';var se,ae,ce,ue=re(),le=0,pe=0,fe={},de=function(){var e=E(x().mark((function e(t){var n,r,o,i,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue=re(),(n=document.getElementById("trezorconnect"))?se=n:((se=document.createElement("iframe")).frameBorder="0",se.width="0px",se.height="0px",se.style.position="absolute",se.style.display="none",se.style.border="0px",se.style.width="0px",se.style.height="0px",se.id="trezorconnect"),"web"===t.env?(o=t.manifest?JSON.stringify(t.manifest):"undefined",i="version="+t.version+"&manifest="+encodeURIComponent(btoa(JSON.stringify(o))),r=t.iframeSrc+"?"+i):r=t.iframeSrc,se.setAttribute("src",r),t.webusb&&se.setAttribute("allow","usb"),ae=te(se.src),le=window.setTimeout((function(){ue.reject(p("Init_IframeTimeout"))}),1e4),s=function(){if(se){try{var e=se.contentWindow.location.origin;if(!e||"null"===e)return void me()}catch(e){}var n;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener((function(){})),n=chrome.runtime.id),se.contentWindow.postMessage({type:"iframe-init",payload:{settings:t,extension:n}},ae),se.onload=void 0}else ue.reject(p("Init_IframeBlocked"))},se.attachEvent?se.attachEvent("onload",s):se.onload=s,document.body&&(document.body.appendChild(se),he()),e.prev=11,e.next=14,ue.promise;case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(11),se&&(se.parentNode&&se.parentNode.removeChild(se),se=null),e.t0;case 20:return e.prev=20,window.clearTimeout(le),le=0,e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[11,16,20,24]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){if(!se)throw p("Init_IframeBlocked");var e=se.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id","TrezorConnectStylesheet"),n.styleSheet?(n.styleSheet.cssText=ie,t.appendChild(n)):(n.appendChild(document.createTextNode(ie)),t.append(n))},me=function(){window.clearTimeout(le),ce=p("Init_IframeBlocked"),ve(),ue.reject(ce)},ye=function(e,t){if(void 0===t&&(t=!0),!se)throw p("Init_IframeBlocked");if(t){pe++,e.id=pe,fe[pe]=re();var n=fe[pe].promise;return se.contentWindow.postMessage(e,ae),n}return se.contentWindow.postMessage(e,ae),null},ve=function(){if(se&&se.parentNode)try{se.parentNode.removeChild(se)}catch(e){}se=null,le=0};const be=function(e,t,n){var r=e||".trezor-webusb-button",o=document.querySelectorAll(r),i=t+"?"+Date.now();o.forEach((function(e){if(e.getElementsByTagName("iframe").length<1){var t=e.getBoundingClientRect(),r=document.createElement("iframe");r.frameBorder="0",r.width=Math.round(t.width)+"px",r.height=Math.round(t.height)+"px",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.zIndex="1",r.setAttribute("allow","usb"),r.setAttribute("scrolling","no"),r.onload=function(){r.contentWindow.postMessage({},n)},r.src=i,e.append(r)}}))};var ge=function(e){return{success:!1,payload:{error:e.message,code:e.code}}};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _e="8.2.3",Ee="https://connect.trezor.io/"+(_e.split(".").map((function(e){return parseInt(e,10)}))[0]+"/"),Te={configSrc:"./data/config.json",version:_e,debug:!1,priority:2,trustedHost:!1,connectSrc:Ee,iframeSrc:Ee+"iframe.html",popup:!0,popupSrc:Ee+"popup.html",webusbSrc:Ee+"webusb.html",transportReconnect:!1,webusb:!0,pendingTransportEvent:!0,supportedBrowser:"undefined"==typeof navigator||!/Trident|MSIE|Edge/.test(navigator.userAgent),manifest:null,env:"web",lazyLoad:!1,timestamp:(new Date).getTime(),interactionTimeout:600},xe=function(e){if("string"==typeof e)return e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)||e.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)?e:void 0},Se=function(t){void 0===t&&(t={});var r=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?we(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Te);if(Object.prototype.hasOwnProperty.call(t,"debug")&&(Array.isArray(t),"boolean"==typeof t.debug?r.debug=t.debug:"string"==typeof t.debug&&(r.debug="true"===t.debug)),"string"==typeof t.connectSrc&&(r.connectSrc=t.connectSrc),void 0!==n.g&&"string"==typeof n.g.__TREZOR_CONNECT_SRC&&(r.connectSrc=xe(n.g.__TREZOR_CONNECT_SRC),r.debug=!0),"undefined"!=typeof window&&window.location&&"string"==typeof window.location.search){var o=window.location.search.split("&").find((function(e){return e.indexOf("trezor-connect-src")>=0}));if(o){var i=o.split("=")[1];r.connectSrc=xe(decodeURIComponent(i)),r.debug=!0}}var s=r.connectSrc||Ee;return r.iframeSrc=s+"iframe.html",r.popupSrc=s+"popup.html",r.webusbSrc=s+"webusb.html","boolean"==typeof t.transportReconnect&&(r.transportReconnect=t.transportReconnect),"boolean"==typeof t.webusb&&(r.webusb=t.webusb),"boolean"==typeof t.popup&&(r.popup=t.popup),"boolean"==typeof t.lazyLoad&&(r.lazyLoad=t.lazyLoad),"boolean"==typeof t.pendingTransportEvent&&(r.pendingTransportEvent=t.pendingTransportEvent),"undefined"!=typeof window&&window.location&&"file:"===window.location.protocol&&(r.origin="file://"+window.location.pathname,r.webusb=!1),"string"==typeof t.extension&&(r.extension=t.extension),"string"==typeof t.env?r.env=t.env:r.env=function(){if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"}(),"number"==typeof t.timestamp&&(r.timestamp=t.timestamp),"number"==typeof t.interactionTimeout&&(r.interactionTimeout=t.interactionTimeout),"object"==typeof t.manifest&&(r.manifest=function(e){if(e&&"string"==typeof e.email&&"string"==typeof e.appUrl)return{email:e.email,appUrl:e.appUrl}}(t.manifest)),Te=r},Be={DescriptorStream:"color: #77ab59",DeviceList:"color: #36802d",Device:"color: #bada55",Core:"color: #c9df8a",IFrame:"color: #FFFFFF; background: #f4a742;",Popup:"color: #f48a00"},Oe=function(){function e(e,t){this.prefix=e,this.enabled=t,this.messages=[],this.css=Be[e]||"color: #000000; background: #FFFFFF;"}var t=e.prototype;return t.addMessage=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];this.messages.push({level:e,prefix:t,message:r,timestamp:(new Date).getTime()}),this.messages.length>100&&this.messages.shift()},t.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["log",this.prefix].concat(t)),this.enabled)&&(r=console).log.apply(r,[this.prefix].concat(t))},t.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["error",this.prefix].concat(t)),this.enabled)&&(r=console).error.apply(r,[this.prefix].concat(t))},t.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["warn",this.prefix].concat(t)),this.enabled)&&(r=console).warn.apply(r,[this.prefix].concat(t))},t.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;(this.addMessage.apply(this,["debug",this.prefix].concat(t)),this.enabled)&&(r=console).log.apply(r,["%c"+this.prefix,this.css].concat(t))},e}(),Le={},Ue=(Object.freeze({OT_UNKNOWN:0,MARKET:1,LIMIT:2,OT_RESERVED:3}),Object.freeze({SIDE_UNKNOWN:0,BUY:1,SELL:2}),Object.freeze({TIF_UNKNOWN:0,GTE:1,TIF_RESERVED:2,IOC:3}),Object.freeze({SPENDADDRESS:0,SPENDMULTISIG:1,EXTERNAL:2,SPENDWITNESS:3,SPENDP2SHWITNESS:4,SPENDTAPROOT:5}),Object.freeze({PAYTOADDRESS:0,PAYTOSCRIPTHASH:1,PAYTOMULTISIG:2,PAYTOOPRETURN:3,PAYTOWITNESS:4,PAYTOP2SHWITNESS:5,PAYTOTAPROOT:6}),Object.freeze({SSGen:0,SSRTX:1}),Object.freeze({BITCOIN:0,MILLIBITCOIN:1,MICROBITCOIN:2,SATOSHI:3}),Object.freeze({TXINPUT:0,TXOUTPUT:1,TXMETA:2,TXFINISHED:3,TXEXTRADATA:4,TXORIGINPUT:5,TXORIGOUTPUT:6}),Object.freeze({LEDGER:0,ICARUS:1,ICARUS_TREZOR:2}),Object.freeze({BASE:0,BASE_SCRIPT_KEY:1,BASE_KEY_SCRIPT:2,BASE_SCRIPT_SCRIPT:3,POINTER:4,POINTER_SCRIPT:5,ENTERPRISE:6,ENTERPRISE_SCRIPT:7,BYRON:8,REWARD:14,REWARD_SCRIPT:15}),Object.freeze({PUB_KEY:0,ALL:1,ANY:2,N_OF_K:3,INVALID_BEFORE:4,INVALID_HEREAFTER:5}),Object.freeze({HIDE:0,BECH32:1,POLICY_ID:2}),Object.freeze({STAKE_REGISTRATION:0,STAKE_DEREGISTRATION:1,STAKE_DELEGATION:2,STAKE_POOL_REGISTRATION:3}),Object.freeze({SINGLE_HOST_IP:0,SINGLE_HOST_NAME:1,MULTIPLE_HOST_NAME:2}),Object.freeze({NONE:0,CATALYST_REGISTRATION_SIGNATURE:1}),Object.freeze({ORDINARY_TRANSACTION:0,POOL_REGISTRATION_AS_OWNER:1,MULTISIG_TRANSACTION:2}),Object.freeze({BYRON_WITNESS:0,SHELLEY_WITNESS:1}),Object.freeze({Failure_UnexpectedMessage:1,Failure_ButtonExpected:2,Failure_DataError:3,Failure_ActionCancelled:4,Failure_PinExpected:5,Failure_PinCancelled:6,Failure_PinInvalid:7,Failure_InvalidSignature:8,Failure_ProcessError:9,Failure_NotEnoughFunds:10,Failure_NotInitialized:11,Failure_PinMismatch:12,Failure_WipeCodeMismatch:13,Failure_InvalidSession:14,Failure_FirmwareError:99}),Object.freeze({ButtonRequest_Other:1,ButtonRequest_FeeOverThreshold:2,ButtonRequest_ConfirmOutput:3,ButtonRequest_ResetDevice:4,ButtonRequest_ConfirmWord:5,ButtonRequest_WipeDevice:6,ButtonRequest_ProtectCall:7,ButtonRequest_SignTx:8,ButtonRequest_FirmwareCheck:9,ButtonRequest_Address:10,ButtonRequest_PublicKey:11,ButtonRequest_MnemonicWordCount:12,ButtonRequest_MnemonicInput:13,_Deprecated_ButtonRequest_PassphraseType:14,ButtonRequest_UnknownDerivationPath:15,ButtonRequest_RecoveryHomepage:16,ButtonRequest_Success:17,ButtonRequest_Warning:18,ButtonRequest_PassphraseEntry:19,ButtonRequest_PinEntry:20}),Object.freeze({PinMatrixRequestType_Current:1,PinMatrixRequestType_NewFirst:2,PinMatrixRequestType_NewSecond:3,PinMatrixRequestType_WipeCodeFirst:4,PinMatrixRequestType_WipeCodeSecond:5}),Object.freeze({UP:0,DOWN:1,LEFT:2,RIGHT:3}),Object.freeze({Bip39:0,Slip39_Basic:1,Slip39_Advanced:2}),Object.freeze({UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}),Object.freeze({Strict:0,PromptAlways:1,PromptTemporarily:2}),Object.freeze({Capability_Bitcoin:1,Capability_Bitcoin_like:2,Capability_Binance:3,Capability_Cardano:4,Capability_Crypto:5,Capability_EOS:6,Capability_Ethereum:7,Capability_Lisk:8,Capability_Monero:9,Capability_NEM:10,Capability_Ripple:11,Capability_Stellar:12,Capability_Tezos:13,Capability_U2F:14,Capability_Shamir:15,Capability_ShamirGroups:16,Capability_PassphraseEntry:17}),Object.freeze({DISABLE:0,ENABLE:1,REFRESH:2}),Object.freeze({RecoveryDeviceType_ScrambledWords:0,RecoveryDeviceType_Matrix:1}),Object.freeze({WordRequestType_Plain:0,WordRequestType_Matrix9:1,WordRequestType_Matrix6:2}),Object.freeze({MosaicLevy_Absolute:1,MosaicLevy_Percentile:2}),Object.freeze({SupplyChange_Increase:1,SupplyChange_Decrease:2}),Object.freeze({CosignatoryModification_Add:1,CosignatoryModification_Delete:2}),Object.freeze({ImportanceTransfer_Activate:1,ImportanceTransfer_Deactivate:2}),Object.freeze({NATIVE:0,ALPHANUM4:1,ALPHANUM12:2}),Object.freeze({NONE:0,TEXT:1,ID:2,HASH:3,RETURN:4}),Object.freeze({ACCOUNT:0,PRE_AUTH:1,HASH:2}),Object.freeze({Implicit:0,Originated:1}),Object.freeze({Yay:0,Nay:1,Pass:2}),n("./node_modules/es6-promise/dist/es6-promise.js").Promise);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Ae(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Fe,Ce,Re=new(B()),Ie=function(e,t){var n=new Oe(e,!!t);return Le[e]=n,n}("[trezor-connect.js]"),Pe=function(){var e=new oe(Fe);return e.on(y,(function(e){ye({type:y,payload:e?{error:e}:null},!1)})),e},je=function(){Re.removeAllListeners(),ve(),Ce&&Ce.close()},Ne=function(e){if(e.origin===ae){var t=function(e){var t={event:e.event,type:e.type,payload:e.payload};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t}(e.data),n=t.event,r=t.type,o=t.payload,i=t.id||0;switch(Ie.log("handleMessage",t),n){case"RESPONSE_EVENT":fe[i]?(fe[i].resolve({id:i,success:t.success,payload:o}),delete fe[i]):Ie.warn("Unknown message id "+i);break;case"DEVICE_EVENT":case"TRANSPORT_EVENT":case"BLOCKCHAIN_EVENT":Re.emit(n,t),Re.emit(r,o);break;case g:if("iframe-bootstrap"===r){window.clearTimeout(le);break}r===f&&ue.resolve(),"iframe-error"===r&&ue.reject(o.error),Re.emit(n,t),Re.emit(r,o);break;default:Ie.log("Undefined message",n,e)}}},Qe=function(){var e=E(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),!se){e.next=3;break}throw p("Init_AlreadyInitialized");case 3:if(Fe||(Fe=Se(t)),Fe.manifest){e.next=6;break}throw p("Init_ManifestMissing");case 6:if(!Fe.lazyLoad){e.next=9;break}return Fe.lazyLoad=!1,e.abrupt("return");case 9:return Ce||(Ce=Pe()),Ie.enabled=!!Fe.debug,window.addEventListener("message",Ne),window.addEventListener("unload",je),e.next=15,de(Fe);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=E(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se||le){e.next=15;break}if((Fe=Se(Fe)).manifest){e.next=4;break}return e.abrupt("return",ge(p("Init_ManifestMissing")));case 4:return Ce||(Ce=Pe()),Ce.request(!0),e.prev=6,e.next=9,Qe(Fe);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),Ce&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(e.t0.code)?Ce.postMessage({event:g,type:"ui-iframe_failure",payload:void 0}):Ce.close()),e.abrupt("return",ge(e.t0));case 15:if(!le){e.next=17;break}return e.abrupt("return",ge(p("Init_ManifestMissing")));case 17:if(!ce){e.next=19;break}return e.abrupt("return",ge(ce));case 19:return Fe.popup&&Ce&&Ce.request(),e.prev=20,e.next=23,ye({type:"iframe-call",payload:t});case 23:if(!(n=e.sent)){e.next=27;break}return!n.success&&"Device_CallInProgress"!==n.payload.code&&Ce&&Ce.unlock(),e.abrupt("return",n);case 27:return Ce&&Ce.unlock(),e.abrupt("return",ge(p("Method_NoResponse")));case 31:return e.prev=31,e.t1=e.catch(20),Ie.error("__call error",e.t1),Ce&&Ce.close(),e.abrupt("return",ge(e.t1));case 36:case"end":return e.stop()}}),e,null,[[6,11],[20,31]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){ye({event:g,type:"ui-custom_response",payload:e})},De=function(){var e=E(x().mark((function e(t){var n,r,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof t.callback){e.next=2;break}return e.abrupt("return",ge(p("Method_CustomMessage_Callback")));case 2:return n=t.callback,r=function(){var e=E(x().mark((function e(t){var r,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.data)||"ui-custom_request"!==r.type){e.next=6;break}return e.next=4,n(r.payload);case 4:o=e.sent,Me(o||{message:"release"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",r,!1),e.next=7,ze(ke(ke({method:"customMessage"},t),{},{callback:null}));case 7:return o=e.sent,window.removeEventListener("message",r),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=E(x().mark((function e(t){var n,r,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t.callback){e.next=9;break}return n=t.callback,r=function(){var e=E(x().mark((function e(t){var r,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.data)||"ui-login_challenge_request"!==r.type){e.next=12;break}return e.prev=2,e.next=5,n();case 5:o=e.sent,ye({event:g,type:v,payload:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),ye({event:g,type:v,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",r,!1),e.next=6,ze(ke(ke({method:"requestLogin"},t),{},{asyncChallenge:!0,callback:null}));case 6:return o=e.sent,window.removeEventListener("message",r),e.abrupt("return",o);case 9:return e.abrupt("return",ze(ke({method:"requestLogin"},t)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?He(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ve={manifest:function(e){Fe=Se({manifest:e})},init:Qe,getSettings:function(){return se?ze({method:"getSettings"}):Ue.resolve(ge(p("Init_NotInitialized")))},on:function(e,t){Re.on(e,t)},off:function(e,t){Re.removeListener(e,t)},removeAllListeners:function(){Re.removeAllListeners()},uiResponse:function(e){var t=e.type,n=e.payload;ye({event:g,type:t,payload:n})},blockchainGetAccountBalanceHistory:function(e){return ze(We({method:"blockchainGetAccountBalanceHistory"},e))},blockchainGetCurrentFiatRates:function(e){return ze(We({method:"blockchainGetCurrentFiatRates"},e))},blockchainGetFiatRatesForTimestamps:function(e){return ze(We({method:"blockchainGetFiatRatesForTimestamps"},e))},blockchainDisconnect:function(e){return ze(We({method:"blockchainDisconnect"},e))},blockchainEstimateFee:function(e){return ze(We({method:"blockchainEstimateFee"},e))},blockchainGetTransactions:function(e){return ze(We({method:"blockchainGetTransactions"},e))},blockchainSetCustomBackend:function(e){return ze(We({method:"blockchainSetCustomBackend"},e))},blockchainSubscribe:function(e){return ze(We({method:"blockchainSubscribe"},e))},blockchainSubscribeFiatRates:function(e){return ze(We({method:"blockchainSubscribeFiatRates"},e))},blockchainUnsubscribe:function(e){return ze(We({method:"blockchainUnsubscribe"},e))},blockchainUnsubscribeFiatRates:function(e){return ze(We({method:"blockchainUnsubscribeFiatRates"},e))},customMessage:function(e){return De(e)},requestLogin:function(e){return Ge(e)},cardanoGetAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"cardanoGetAddress"},e),{},{useEventListener:t}))},cardanoGetNativeScriptHash:function(e){return ze(We({method:"cardanoGetNativeScriptHash"},e))},cardanoGetPublicKey:function(e){return ze(We({method:"cardanoGetPublicKey"},e))},cardanoSignTransaction:function(e){return ze(We({method:"cardanoSignTransaction"},e))},cipherKeyValue:function(e){return ze(We({method:"cipherKeyValue"},e))},composeTransaction:function(e){return ze(We({method:"composeTransaction"},e))},debugLinkDecision:function(e){return ze(We({method:"debugLinkDecision"},e))},debugLinkGetState:function(e){return ze(We({method:"debugLinkGetState"},e))},ethereumGetAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"ethereumGetAddress"},e),{},{useEventListener:t}))},ethereumGetPublicKey:function(e){return ze(We({method:"ethereumGetPublicKey"},e))},ethereumSignMessage:function(e){return ze(We({method:"ethereumSignMessage"},e))},ethereumSignTransaction:function(e){return ze(We({method:"ethereumSignTransaction"},e))},ethereumVerifyMessage:function(e){return ze(We({method:"ethereumVerifyMessage"},e))},getAccountInfo:function(e){return ze(We({method:"getAccountInfo"},e))},getAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"getAddress"},e),{},{useEventListener:t}))},getDeviceState:function(e){return ze(We({method:"getDeviceState"},e))},getFeatures:function(e){return ze(We({method:"getFeatures"},e))},getPublicKey:function(e){return ze(We({method:"getPublicKey"},e))},liskGetAddress:function(){return ze({method:"liskDeprecated"})},liskGetPublicKey:function(){return ze({method:"liskDeprecated"})},liskSignMessage:function(){return ze({method:"liskDeprecated"})},liskSignTransaction:function(){return ze({method:"liskDeprecated"})},liskVerifyMessage:function(){return ze({method:"liskDeprecated"})},nemGetAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"nemGetAddress"},e),{},{useEventListener:t}))},nemSignTransaction:function(e){return ze(We({method:"nemSignTransaction"},e))},pushTransaction:function(e){return ze(We({method:"pushTransaction"},e))},rippleGetAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"rippleGetAddress"},e),{},{useEventListener:t}))},rippleSignTransaction:function(e){return ze(We({method:"rippleSignTransaction"},e))},signMessage:function(e){return ze(We({method:"signMessage"},e))},signTransaction:function(e){return ze(We({method:"signTransaction"},e))},stellarGetAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"stellarGetAddress"},e),{},{useEventListener:t}))},stellarSignTransaction:function(e){return ze(We({method:"stellarSignTransaction"},e))},tezosGetAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"tezosGetAddress"},e),{},{useEventListener:t}))},tezosGetPublicKey:function(e){return ze(We({method:"tezosGetPublicKey"},e))},tezosSignTransaction:function(e){return ze(We({method:"tezosSignTransaction"},e))},eosGetPublicKey:function(e){return ze(We({method:"eosGetPublicKey"},e))},eosSignTransaction:function(e){return ze(We({method:"eosSignTransaction"},e))},binanceGetAddress:function(e){var t=Re.listenerCount(b)>0;return ze(We(We({method:"binanceGetAddress"},e),{},{useEventListener:t}))},binanceGetPublicKey:function(e){return ze(We({method:"binanceGetPublicKey"},e))},binanceSignTransaction:function(e){return ze(We({method:"binanceSignTransaction"},e))},verifyMessage:function(e){return ze(We({method:"verifyMessage"},e))},resetDevice:function(e){return ze(We({method:"resetDevice"},e))},wipeDevice:function(e){return ze(We({method:"wipeDevice"},e))},applyFlags:function(e){return ze(We({method:"applyFlags"},e))},applySettings:function(e){return ze(We({method:"applySettings"},e))},backupDevice:function(e){return ze(We({method:"backupDevice"},e))},changePin:function(e){return ze(We({method:"changePin"},e))},firmwareUpdate:function(e){return ze(We({method:"firmwareUpdate"},e))},recoveryDevice:function(e){return ze(We({method:"recoveryDevice"},e))},getCoinInfo:function(e){return ze(We({method:"getCoinInfo"},e))},rebootToBootloader:function(e){return ze(We({method:"rebootToBootloader"},e))},dispose:je,cancel:function(e){Ce&&Ce.emit(y,e)},renderWebUSBButton:function(e){be(e,Fe.webusbSrc,ae)},disableWebUSB:function(){ye({event:g,type:"transport-disable_webusb"})}};const qe=Ve})(),r=r.default})()}));